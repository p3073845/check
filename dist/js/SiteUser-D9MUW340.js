import{r as a,j as e,u as _,R as D,k as R,s as F,P as L,B as v,g as A}from"../assets/index-tIS8zD_P.js";const M=({show:t,onClose:n,data:r})=>{const[b,g]=a.useState(!1);return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal fade bs-example-modal-center show",tabIndex:-1,role:"dialog","aria-labelledby":"myCenterModalLabel",style:{display:t?"block":"none"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"myCenterModalLabel",children:"Details"}),e.jsx("button",{type:"button",className:"btn-close",onClick:n})]}),e.jsx("div",{className:"modal-body",children:e.jsx("pre",{className:"hljs mb-0",style:{whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:"400px",overflowY:"auto",overflowX:"hidden",padding:"15px",margin:0,backgroundColor:"#f8f9fa",borderRadius:"4px"},children:JSON.stringify(r,null,2)})})]})})}),e.jsx("div",{className:"modal-backdrop fade show"})]}):null},P=()=>{const t=_(),[n,r]=a.useState(!1),[b,g]=a.useState(null),[E,f]=a.useState(null),[O,S]=a.useState(null),[o,h]=a.useState({searchQuery:"",client_id:null,site_id:null,from_date:moment().startOf("month").unix().toString(),to_date:moment().endOf("day").unix().toString(),page:1,limit:10}),k=D.useCallback((s,l)=>{f(s),S(l)},[]),[m,x]=a.useState([]),[p,d]=a.useState([]),j=a.useCallback((s="")=>{t(R({search:s})).unwrap().then(l=>{var c;if(!l.error&&((c=l.data)!=null&&c.user_list)){const u=l.data.user_list.map(i=>({value:i.user_id,label:i.name}));x(u)}else x([])}).catch(()=>{x([])})},[]),N=a.useCallback(s=>{s&&t(F({search:"",client_id:s})).unwrap().then(l=>{var c;if(console.log("Site names response:",l),!l.error&&((c=l.data)!=null&&c.site_list)){const u=l.data.site_list.map(i=>({value:i.site_id,label:i.siteName}));d(u)}else d([])}).catch(()=>{d([])})},[t]),y=a.useCallback(s=>{h(l=>({...l,client_id:s?s.value:null,site_id:null,page:1})),s!=null&&s.value?N(s.value):d([]),h(l=>({...l,site_id:null}))},[N]),C=a.useCallback(s=>{s&&s.length>=2&&j(s)},[j]),w=a.useCallback(s=>{h(l=>({...l,site_id:s?s.value:null,page:1}))},[]);return e.jsxs("div",{children:[e.jsx(L,{}),e.jsxs("div",{className:"main_card",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:" col-md-4  col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"clientName",children:"Client Name"}),e.jsx(v,{id:"clientName",options:m,value:m.find(s=>s.value===o.client_id),onChange:y,placeholder:"Select Client",onMenuOpen:()=>!m.length&&j(),onSearch:s=>s.length>=2&&C(s)})]})}),e.jsx("div",{className:" col-md-4 col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"siteName",children:"Site Name"}),e.jsx(v,{id:"siteName",options:p,value:p.find(s=>s.value===o.site_id),onChange:w,placeholder:"Select Site",disabled:!o.client_id})]})}),e.jsx("div",{className:" col-md-4 col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"",children:"Device Type"}),e.jsxs("select",{id:!0,className:"form-control",children:[e.jsx("option",{children:"Select Device"}),e.jsx("option",{children:"Event Type 1"}),e.jsx("option",{children:"Event Type 2"})]})]})}),e.jsx("div",{className:" col-md-4 col-sm-6",children:e.jsxs("div",{className:"app-search-box",children:[e.jsx("label",{htmlFor:!0,children:"Search"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"Search..."}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn",type:"submit",children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:" col-md-4 col-sm-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date Range"}),e.jsx(A,{onDateSelect:k})]})}),e.jsxs("div",{className:"col-lg-2 col-md-3 d-flex align-items-center mt-2",children:[e.jsx("button",{type:"submit",className:"btn btn-color ",children:"Submit"}),e.jsx("button",{type:"reset",className:"btn btn-secondary reset_btnbox ml-2",children:"Reset"})]})]}),e.jsx("div",{className:"table-responsive mt-3",children:e.jsxs("table",{className:"table table-bordered custom-table mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Client Name"}),e.jsx("th",{children:"Site Name"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Device Id"}),e.jsx("th",{children:"Device Type"}),e.jsx("th",{children:"Last used"}),e.jsx("th",{children:"Action"}),e.jsx("th",{children:"Remove 2FA"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:"1"}),e.jsx("td",{children:"Raj"}),e.jsx("td",{children:"Google"}),e.jsx("td",{children:"Demo 1"}),e.jsx("td",{children:"5685"}),e.jsx("td",{children:"IOS"}),e.jsx("td",{children:"8 April 2025"}),e.jsx("td",{children:e.jsxs("label",{className:"switch custom_switch",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"slider round"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"custom-checkbox-wrapper",children:[e.jsx("input",{type:"checkbox",id:"checkbox-1",className:"custom-checkbox-input"}),e.jsx("label",{className:"custom-checkbox-label",htmlFor:"checkbox-1"})]})})]}),e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:"2"}),e.jsx("td",{children:"Raj"}),e.jsx("td",{children:"Google"}),e.jsx("td",{children:"Demo 2"}),e.jsx("td",{children:"5685"}),e.jsx("td",{children:"App"}),e.jsx("td",{children:"8 April 2025"}),e.jsx("td",{children:e.jsxs("label",{className:"switch custom_switch",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{className:"slider round"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"custom-checkbox-wrapper",children:[e.jsx("input",{type:"checkbox",id:"checkbox-2",className:"custom-checkbox-input"}),e.jsx("label",{className:"custom-checkbox-label",htmlFor:"checkbox-2"})]})})]})]})]})})]}),e.jsx(M,{show:n,onClose:()=>r(!1),data:b})]})};export{P as default};
